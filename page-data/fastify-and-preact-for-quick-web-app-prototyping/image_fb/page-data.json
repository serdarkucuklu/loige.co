{"componentChunkName":"component---src-templates-blog-post-share-image-js","path":"/fastify-and-preact-for-quick-web-app-prototyping/image_fb","webpackCompilationHash":"7ccd0c70714418c16a00","result":{"data":{"site":{"siteMetadata":{"title":"Luciano Mammino \"Loige\" - Web developer, entrepreneur, fighter, butterfly maker!","author":"Luciano Mammino","siteUrl":"https://loige.co/","twitterProfile":"loige","disqusShortName":"loige"}},"markdownRemark":{"id":"19d216be-736d-5404-bf81-c8d386c52659","timeToRead":12,"headings":[{"value":"TLDR;","depth":2},{"value":"Fastify","depth":2},{"value":"Preact","depth":2},{"value":"Project overview","depth":2},{"value":"Backend setup","depth":2},{"value":"Frontend setup","depth":2},{"value":"Dockerize all the things","depth":2},{"value":"Conclusion","depth":2}],"html":"<p>In this article I will show my setup to build and share web apps prototypes using <strong>Fastify</strong> and <strong>Preact</strong>, two technologies that I love.</p>\n<p>I will also use <strong>htm</strong>, a library that can be easily integrated with Preact to define DOM elements in a very expressive and react-like way (like <em>JSX</em>), without having to use <em>transpilers</em> like Babel. Finally we will see how to <em>dockerize</em> a sample app built with this setup. This will make the app easy to share with co-workers and friends.</p>\n<p>I came up with this stack, few weeks ago when I had to build a very simple prototype web application to test some product assumptions with some co-workers.</p>\n<p>My experiment was quite successful. I was able to build my prototype quickly and it was super easy for my colleagues to play with it and give me feedback, even if they didn‚Äôt have Node.js and NPM installed on their machines.</p>\n<p>For these reasons, I think this approach is probably worth sharing and I look forward to receiving your feedback in case you decide to give this tech stack a try.</p>\n<h2 id=\"tldr\"><a href=\"#tldr\" aria-label=\"tldr permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TLDR;</h2>\n<p>If you know already <strong>Fastify</strong> and <strong>Preact</strong> and you are just looking for a quick way to get started with a stack based on these 2 technologies‚Ä¶ well you just have to run the following commands:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/lmammino/fastify-preact-htm-boilerplate.git my-new-project\n<span class=\"token function\">cd</span> my-new-project\n<span class=\"token function\">rm</span> -rf .git\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n<p>Of course, you can replace <code class=\"language-text\">my-new-project</code> with the actual name of your project.</p>\n<p>Now enjoy editing the sample code in src:</p>\n<ul>\n<li><code class=\"language-text\">src/ui</code>: is for your frontend (Preact + htm)</li>\n<li><code class=\"language-text\">src/server</code>: is for your backend (Fastify)</li>\n</ul>\n<p>Then run your project with:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> start</code></pre></div>\n<p>And finally test it on <code class=\"language-text\">localhost:3000</code>.</p>\n<p>Oh, yeah‚Ä¶ most importantly, don‚Äôt forget to <a href=\"https://github.com/lmammino/fastify-preact-htm-boilerplate\">give me a ‚≠êÔ∏è on GitHub</a> (pleazeee üòá)!</p>\n<h2 id=\"fastify\"><a href=\"#fastify\" aria-label=\"fastify permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fastify</h2>\n<p>If you never heard about <strong>Fastify</strong>, it is a fast and low overhead web framework for Node.js.</p>\n<p>Fastify was initially created by <a href=\"https://github.com/delvedor\">Tomas Della Vedova</a> and <a href=\"https://github.com/mcollina\">Matteo Collina</a>. Today, it counts a core team of 10 developers, more than 130 contributors and almost 10.000 stars on GitHub.</p>\n<p>Fastify takes inspiration from Node.js frameworks that have been around for a while like <strong>Express</strong> or <strong>Hapi</strong>, but puts particular focus on performance, developer experience and composability. One of my favorite features is in fact the composable plugin system.</p>\n<p>The <a href=\"https://www.fastify.io/docs/\">official Fastify documentation</a> is a great place to start from, if you want to find out more about this wonderful framework.</p>\n<p><em>Full disclosure</em>: I am a member of the core team and I mostly contribute with building and maintaining the Fastify website and its documentation.</p>\n<h2 id=\"preact\"><a href=\"#preact\" aria-label=\"preact permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Preact</h2>\n<p>If you never heard about <strong>Preact</strong>, it is a UI library for the web, initially created as a lighter and faster drop-in alternative to React by <a href=\"https://github.com/developit\">Jason Miller</a>.</p>\n<p>The project has been quite successful. It is now maintained by a <a href=\"https://github.com/developit/preact/graphs/contributors\">team of contributors</a> and has gained more than 20.000 GitHub stars.</p>\n<p>One of the reasons why I like Preact, is that it has a pluggable view definition layer. Normally you would use it with <strong>JSX</strong> in combination with <strong>Babel</strong> for transpilation, but if you don‚Äôt want to setup Babel and have a build process, you can use Preact in combination with <a href=\"https://github.com/developit/htm\"><strong>htm</strong></a>, which uses template literals and doesn‚Äôt require any transpilation on modern browsers.</p>\n<p>We are going to use htm in this article, so hold your horses‚Ä¶ you‚Äôll see some examples soon!</p>\n<h2 id=\"project-overview\"><a href=\"#project-overview\" aria-label=\"project overview permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Project overview</h2>\n<p>So, you decided to follow along and build this stack from scratch, very well!</p>\n<p>Our goal will be to build a simple web app that displays the server time at startup.</p>\n<p>Just to give you a more concrete idea, this is more or less how it is going to look when completed:</p>\n<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 738px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62.601626016260155%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAChElEQVQ4y62RzU4TURSAB2PiZhbulIDUFKZ1WkqZn86UVhYmBBUD0WfwCVyjvoC8BWFjdMNCxbbQ8ieiQBVDKJUxFOiEzgxQCrU/c3u897ZNrIkLE0/y5dw7c+53z5lhrg1Kl5krPpZjvSzDtGGYBm0s182xHe0d7I3OLtbl5tl+QWL9foH199cRpQAbUFRWUQfwWr7EkPA7+cfDYd9R70Df97H797SR0Yfag7FH2tDdEU0MBDUlNKgJkqLxHp/GuXjN5fZgeArZ93C3djGHTicXokKXy/NMECXw9gsQDIUhMHAbBu8MgaSGgfP4wOn2wM0eN3Q6ujHOFpwuHvheP7i9fdDe0TVKhZNTU+PLK6uQSCxU4vMLaC6eQAmcZ+NxFI3NovfRKIpEYyg2O0f3JBMijXU8MV9dXFqGFxMTdeHBwf5TqIddwwH/FqQekcXS4mJduLW1RYVr6xv2y1eva/hG+Lj6CXCX8HltHd68fQcbySSQ57h7WP6wArgOsrpOhdVqlQpnZmbqwlQqRYXnF0XbMMyaaVlgmCZYOGcy+2AYBt0Twd5eBkqlEti2DWSYxkRUGIlEWoWl4qmNi2uVSgXK5TKlVClDEQuKxSK+8ALOzy/omrbWEOJoFW5vb4+TB8emXt1Jp1EqtYM2N7+hL1830cGPDNJ3M8g0TIS7R9msjo5yOUSCiBrYLcJ0Ov28+YXJuPgQHGazlJx+BJaew+3jMz/xdOW//7NYLDZGhclk8kmhUCjl83nj7OzM+p2T01PrGJMnnDRyPm/9UWfi84Xp6elhKvR6vdcVRQkIgqCKoqg2M0GWZVWWZFWUJFWUMVL9fZNmfTAYFB0Ox1XmfweenPkF20F1XbScl7MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/5ad7c95ad281866f5f44ca852913a5c7/a9925/sample-server-time-app.webp 256w,\n/static/5ad7c95ad281866f5f44ca852913a5c7/5406f/sample-server-time-app.webp 512w,\n/static/5ad7c95ad281866f5f44ca852913a5c7/0f49c/sample-server-time-app.webp 738w\"\n          sizes=\"(max-width: 738px) 100vw, 738px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/5ad7c95ad281866f5f44ca852913a5c7/2c438/sample-server-time-app.png 256w,\n/static/5ad7c95ad281866f5f44ca852913a5c7/53eb4/sample-server-time-app.png 512w,\n/static/5ad7c95ad281866f5f44ca852913a5c7/fa72e/sample-server-time-app.png 738w\"\n          sizes=\"(max-width: 738px) 100vw, 738px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/5ad7c95ad281866f5f44ca852913a5c7/fa72e/sample-server-time-app.png\"\n          alt=\"Sample server time web application\"\n          title=\"\"\n        />\n      </picture>\n  </span></p>\n<p>This is a Single Page Application (SPA) where Preact and htm are used to build the fronted App, while Fastify is used to build the <em>server time API</em>.</p>\n<p>By the way, the meticoulus reader might have noticed that amazing favicon there. Stop squinting, here‚Äôs a zoomed-in version, just for your personal enjoyment!</p>\n<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 256px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIDAQT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQMC/9oADAMBAAIQAxAAAAH0xWMqaukXkBYWv//EABkQAAIDAQAAAAAAAAAAAAAAAAABAhEhIv/aAAgBAQABBQIXRZqUE6woniR//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQMBAT8BY//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAECAQE/ASP/xAAbEAEAAgIDAAAAAAAAAAAAAAABAAIRIRAgUf/aAAgBAQAGPwLM1wImvYUqhUc9f//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESFhMUFRcYH/2gAIAQEAAT8hprlV/J7GzzHSLzGLBhg7HBRmAruzOMwDZqdY5gHoxqf/2gAMAwEAAgADAAAAEMQXPf/EABgRAQADAQAAAAAAAAAAAAAAAAABETFR/9oACAEDAQE/EOKUhGP/xAAYEQEBAAMAAAAAAAAAAAAAAAAAARExUf/aAAgBAgEBPxDplNK//8QAHRABAQACAwADAAAAAAAAAAAAAREAMSFBcVGBwf/aAAgBAQABPxAYIPAQ07XzBxKUYpIdP1kEGEI4anQeQfNO8Q5xHqvTx5l4ArRyfOAtpWIGRLcISAocPf3P/9k='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/c2839fefc62490179dcb6eab2820ae58/a9925/cheeta-grimace.webp 256w\"\n          sizes=\"(max-width: 256px) 100vw, 256px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/c2839fefc62490179dcb6eab2820ae58/68367/cheeta-grimace.jpg 256w\"\n          sizes=\"(max-width: 256px) 100vw, 256px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/c2839fefc62490179dcb6eab2820ae58/68367/cheeta-grimace.jpg\"\n          alt=\"Cheeta grimage\"\n          title=\"\"\n        />\n      </picture>\n  </span></p>\n<h2 id=\"backend-setup\"><a href=\"#backend-setup\" aria-label=\"backend setup permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Backend setup</h2>\n<p>Ok, let‚Äôs start by creating a new folder:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> server-time\n<span class=\"token function\">cd</span> server-time</code></pre></div>\n<p>Now we can initialize it as an NPM project and get Fastify installed.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init -y\n<span class=\"token function\">npm</span> i --save fastify@next fastify-static@next fastify-cli</code></pre></div>\n<p>Notice that I am using <code class=\"language-text\">@next</code> for some dependencies to get Fastify v2, currently in release candidate stage, but that should become the main stable version very soon!</p>\n<blockquote>\n<p><strong>Note</strong>: you can also create a new Fastify project using the Fastify CLI:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx fastify-cli generate server-time</code></pre></div>\n<p>At the time of writing this will generate a new project for Fastify 1.x, but it will be updated soon, once v2 will be released as stable.</p>\n</blockquote>\n<p>Let‚Äôs analyze the installed packages one by one:</p>\n<ul>\n<li><code class=\"language-text\">fastify</code> is the core component of the framework</li>\n<li><code class=\"language-text\">fastify-static</code> is an optional plugin that allows you to easily serve static files from a Fastify server</li>\n<li><code class=\"language-text\">fastify-cli</code> is a command line integration that allows you to start your Fastify apps.</li>\n</ul>\n<p>At this point we are ready to create our Fastify API, let‚Äôs place the server code in <code class=\"language-text\">src/server/server.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fastify<span class=\"token punctuation\">,</span> opts</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// serves static assets from the `src/ui` folder</span>\n  fastify<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fastify-static'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    root<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'..'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ui'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Add your API endpoints here</span>\n  fastify<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/time'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">request<span class=\"token punctuation\">,</span> reply</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> time<span class=\"token punctuation\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The code above should be quite self explanatory, but there are some interesting details to cover, especially if you are not familiar with Fastify.</p>\n<p>The first thing you might notice is the usage of the <code class=\"language-text\">async</code> keyword. Fastify supports both the <em>async/await style</em> and a more traditional <em>callback-based style</em>, so you can pick your favorite flavor.</p>\n<p>Another interesting detail is that we are defining a server as an exported module. This module (a <em>plugin</em> in Fastify lingo) is essentially a function that receives a Fastify instance (<code class=\"language-text\">fastify</code>) and a set of options (<code class=\"language-text\">opts</code>) as arguments. Inside the module definition we can use the <code class=\"language-text\">fastify</code> instance to register plugins, as we are doing here with the <code class=\"language-text\">fastify-static</code>, or add HTTP endpoints using methods such as <code class=\"language-text\">fastify.get</code> or <code class=\"language-text\">fastify.post</code>.</p>\n<p>This module approach, while a bit unconventional, has its perks. First of all, it allows you to compose different servers together. Imagine you have created a server to manage a blog and one to manage a forum, you could easily embed them in an existing app and mount them over paths like <code class=\"language-text\">/blog</code> and <code class=\"language-text\">/forum</code>.</p>\n<p>Moreover, this approach keeps your apps and sub-apps abstract from the actual server bootstrapping (socket binding and listening), which is left either to a root level app or to the <code class=\"language-text\">fastify-cli</code>.</p>\n<p>Let‚Äôs see how to do that with the fastify Command Line Interface:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">node_modules/.bin/fastify start --log-level info src/server/server.js</code></pre></div>\n<p>For simplicity we can add this command to our <code class=\"language-text\">package.json</code> scripts:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"fastify start --log-level info src/server/server.js\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Before launching the server, we have to make sure our UI assets folder exists (fastify-static would crash otherwise), so let‚Äôs create it:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> src/ui</code></pre></div>\n<p>Now we can run our app with <code class=\"language-text\">npm start</code> and point our browser to <a href=\"http://localhost:3000/api/time\">localhost:3000/api/time</a>.</p>\n<p>You should now see a response like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span> <span class=\"token property\">\"time\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2019-02-17T19:32:03.354Z\"</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>At this point you are probably noticing another amazing feature of Fastify: JSON serialization is handled out of the box if a route returns an object.</p>\n<p>Hooray, our server API is now implemented. ü•≥</p>\n<p>Let‚Äôs move on and let‚Äôs start to work on the frontend!</p>\n<h2 id=\"frontend-setup\"><a href=\"#frontend-setup\" aria-label=\"frontend setup permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Frontend setup</h2>\n<p>All our frontend code will live in <code class=\"language-text\">src/ui</code> and it will be made of 5 files:</p>\n<ul>\n<li><code class=\"language-text\">app.js</code>: the code for our Preact app</li>\n<li><code class=\"language-text\">bootstrap.min.css</code>: the CSS code for styling our app (directly from the Bootstrap framework)</li>\n<li><code class=\"language-text\">favicon.ico</code>: our delicious favicon, because you are not building a serious app if you don‚Äôt have a serious favicon!</li>\n<li><code class=\"language-text\">index.html</code>: main HTML code for our SPA</li>\n<li><code class=\"language-text\">preacthtm.js</code>: the code for Preact + htm.</li>\n</ul>\n<p>First of all let‚Äôs download the files for Bootstrap, Preact and our favicon:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token string\">\"https://unpkg.com/htm@2.0.0/preact/standalone.js\"</span> <span class=\"token operator\">></span> src/ui/preacthtm.js\n<span class=\"token function\">curl</span> <span class=\"token string\">\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"</span> <span class=\"token operator\">></span> src/ui/bootstrap.min.css\n<span class=\"token function\">curl</span> <span class=\"token string\">\"https://github.com/lmammino/fastify-preact-htm-boilerplate/blob/master/src/ui/favicon.ico?raw=true\"</span> <span class=\"token operator\">></span> src/ui/favicon.ico</code></pre></div>\n<p>Now it‚Äôs time to create our <code class=\"language-text\">src/ui/index.html</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span>\n      <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1, shrink-to-fit=no<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">/></span></span>\n\n    <span class=\"token comment\">&lt;!-- Bootstrap CSS --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/bootstrap.min.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>My awesome server time<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token comment\">&lt;!-- JavaScript --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/preacthtm.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/app.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>This is a pretty standard HTML 5 page where we are loading all our resources (CSS and JS) and creating an empty <code class=\"language-text\">div</code> (<code class=\"language-text\">id=&quot;app&quot;</code>) where we will mount our frontend application at runtime.</p>\n<p>Let‚Äôs now look at the code needed for our app in <code class=\"language-text\">src/ui/app.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/* global htmPreact */</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> html<span class=\"token punctuation\">,</span> Component<span class=\"token punctuation\">,</span> render <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> htmPreact\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> time<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/time'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> time<span class=\"token punctuation\">:</span> data<span class=\"token punctuation\">.</span>time <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token punctuation\">,</span> state</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> html<span class=\"token template-string\"><span class=\"token string\">`\n      &lt;div class=\"container mt-5\">\n        &lt;div class=\"row justify-content-center\">\n          &lt;div class=\"col\">\n            &lt;h1>Hello from your new App&lt;/h1>\n            &lt;div>\n              </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>state<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">&amp;&amp;</span>\n                html<span class=\"token template-string\"><span class=\"token string\">`\n                  &lt;p>üò¥ Loading time from server...&lt;/p>\n                `</span></span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>state<span class=\"token punctuation\">.</span>time <span class=\"token operator\">&amp;&amp;</span>\n                html`\n                  <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>‚è± Time <span class=\"token keyword\">from</span> server<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>i<span class=\"token operator\">></span>$<span class=\"token punctuation\">{</span>state<span class=\"token punctuation\">.</span>time<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/i>&lt;/p>\n                `</span></span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n              üë©‚Äçüíª Have fun changing the code <span class=\"token keyword\">from</span> <span class=\"token keyword\">this</span> boilerplate<span class=\"token punctuation\">:</span>\n              <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span><span class=\"token constant\">UI</span> code available at <span class=\"token operator\">&lt;</span>code<span class=\"token operator\">></span><span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>ui<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>code<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>Server<span class=\"token operator\">-</span>side code available at <span class=\"token operator\">&lt;</span>code<span class=\"token operator\">></span><span class=\"token operator\">/</span>src<span class=\"token operator\">/</span>server<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>code<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token template-string\"><span class=\"token string\">`\n  }\n}\n\nrender(\n  html`</span></span>\n    <span class=\"token operator\">&lt;</span>$<span class=\"token punctuation\">{</span>App<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  `<span class=\"token punctuation\">,</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>In our frontend app we have only one stateful component called <code class=\"language-text\">App</code>.</p>\n<p>The state for this component is defined by 2 variables:</p>\n<ul>\n<li><code class=\"language-text\">loading</code>: a boolean flag used to indicate whether an API request to fetch the current server time is in progress</li>\n<li><code class=\"language-text\">time</code>: a string that contains the last fetched time</li>\n</ul>\n<p>If you have familiarity with React, the component should be pretty straightforward to understand.</p>\n<p>By using Preact and htm, we can create a component by writing a class that extends from the built in <code class=\"language-text\">Component</code> class.</p>\n<p>In this class we can define the component behavior using lifecycle hooks like <code class=\"language-text\">componentDidMount</code> and the look and feel using the <code class=\"language-text\">render</code> method.</p>\n<p>In our case, once the component is attached to the the page (<code class=\"language-text\">componentDidMount</code> hook), we set the state as <code class=\"language-text\">loading</code> and we issue a request to our time API, using <code class=\"language-text\">fetch</code>.</p>\n<p>Once the request is completed, we set the <code class=\"language-text\">time</code> and reset the <code class=\"language-text\">loading</code> state to false.</p>\n<p>The <code class=\"language-text\">render</code> function is automatically invoked every time the component state or its props change. In this method we define the DOM for the component using htm.</p>\n<p>htm allows us to define the DOM nodes using tagged template literals with the special tag <code class=\"language-text\">html</code>. Within our template literal, we can have dynamic expressions, like the ones we use to check the state and decide what to render in case of loading or not.</p>\n<p>One last detail, aside from defining the behavior and the look and feel of our App component we have to create an instance and render it in our HTML page.</p>\n<p>We do that by using the <code class=\"language-text\">render</code> function from the global <code class=\"language-text\">htmPreact</code> object.</p>\n<p>That‚Äôs it.</p>\n<p>Relaunch your server and visit <a href=\"http://localhost:3000\">localhost:3000</a> to see the app in action!</p>\n<p>Feel free to play around, change and break things, until you are happy enough with the outcome and feel ready to share your creation with the world (or maybe with just some friends).</p>\n<h2 id=\"dockerize-all-the-things\"><a href=\"#dockerize-all-the-things\" aria-label=\"dockerize all the things permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dockerize all the things</h2>\n<p>In my opinion, the best way to share your new little project is to use Docker.</p>\n<p>With Docker, whoever is trying to run your app doesn‚Äôt have to worry about having the right versions of Node.js and NPM and to run the right sequence of commands to install dependencies and run the server.</p>\n<p>In order to ‚Äúdockerize‚Äù our app we have to create a very simple <code class=\"language-text\">Dockerfile</code> in the root folder of our project:</p>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token keyword\">FROM</span> node<span class=\"token punctuation\">:</span>11<span class=\"token punctuation\">-</span>alpine\n\n<span class=\"token keyword\">WORKDIR</span> /app\n<span class=\"token keyword\">COPY</span> . /app\n<span class=\"token keyword\">RUN</span> npm install <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>production\n\n<span class=\"token keyword\">EXPOSE</span> 3000\n\n<span class=\"token keyword\">CMD</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"npm\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"start\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>With this setup we are essentially doing the following:</p>\n<ul>\n<li>Creating an image starting from the the latest version of Node.js 11, linux alpine.</li>\n<li>Everything from our current folder is copied inside <code class=\"language-text\">/app</code> inside the container.</li>\n<li>At this point we run <code class=\"language-text\">npm install</code> to make sure that all the dependencies are downloaded and installed. The <code class=\"language-text\">--production</code> flag will make so that only production dependencies are installed, speeding up the image creation in case you have many dev dependencies.</li>\n<li>We also expose port 3000, which is where our web server will run by default.</li>\n<li>Finally, we define our runtime command as <code class=\"language-text\">npm start</code> to start the application.</li>\n</ul>\n<p>In order to build the image for this container, you can run the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker build -t server-time <span class=\"token keyword\">.</span></code></pre></div>\n<p>After few second the image should be ready and you should be able to run containers off of it:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker run -it -p 3000:3000 server-time</code></pre></div>\n<p>The <code class=\"language-text\">-p</code> parameter allows you to map the port 3000 from within the container to the local port 3000, so that you can access the dockerized application from <code class=\"language-text\">localhost:3000</code>.</p>\n<p>Now you are ready to share this application. Whoever is receiving it has to have Docker installed and run the two commands above!</p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>In this article, I showed you how easy it is to bootstrap a quick web app development environment using Fastify and Preact. We also saw how to share the resulting app with Docker.</p>\n<p>I said that this setup is ideal for building quick prototypes, so you are maybe wondering what‚Äôs missing in case you want to take the app to production.</p>\n<p>Well, these are probably some of the concerns you will have when starting to think about making your code production ready:</p>\n<ul>\n<li>Frontend assets compilation: how to create optimized (bundled) files, maybe by using Webpack, Babel or other similar tools.</li>\n<li>Frontend routing</li>\n<li>Server side rendering</li>\n<li>Data persistence</li>\n</ul>\n<p>I didn‚Äôt cover all these aspects with my setup yet, so I don‚Äôt want to consider this production ready, but I am quite sure you can expand it and cover the missing pieces and be able to build production ready apps with Fastify and Preact.</p>\n<p>I hope this article was informative and that this stack will be useful to you for your next prototype application.</p>\n<p>This article was possible only because of the support and the kind reviews of some developers I really admire, so <strong>thank you to them all</strong> (in alphabetical order) üòª:</p>\n<ul>\n<li><a href=\"https://github.com/AngeloGulina\">Angelo Gulina</a></li>\n<li><a href=\"https://github.com/developit\">Jason Miller</a></li>\n<li><a href=\"https://github.com/marvinhagemeister\">Marvin Hagemeister</a></li>\n<li><a href=\"https://github.com/mcollina\">Matteo Collina</a></li>\n<li><a href=\"https://github.com/delvedor\">Tomas Della Vedova</a></li>\n</ul>\n<p>I really look forward to hearing your feedback, so please don‚Äôt hesitate leaving a comment below!</p>\n<p>Until next time, ciao üëã</p>","frontmatter":{"title":"Fastify and Preact for quick web app prototyping","slug":"fastify-and-preact-for-quick-web-app-prototyping","author":"Luciano Mammino","tags":["javascript","node-js","fastify","react","docker"],"date":"February 18, 2019","header_img":{"publicURL":"/static/fastify-and-preact-for-quick-web-app-prototyping-a842c94d30f4087735ab1ad47fcb60de.jpg"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"fastify-and-preact-for-quick-web-app-prototyping","width":1200,"height":630,"type":"facebook"}}}